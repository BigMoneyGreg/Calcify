<!DOCTYPE html>
<html lang="en" data-theme="light" class="transition-colors duration-300">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Savings Over Time Calculator</title>
    <link rel="stylesheet" href="../styles/styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      // Apply the saved theme on page load
      document.addEventListener("DOMContentLoaded", () => {
        const isLightTheme = JSON.parse(localStorage.getItem("isLightTheme")) ?? true; // Default to true (light mode)
        const theme = isLightTheme ? "light" : "dark";
        document.documentElement.setAttribute("data-theme", theme);
      });

      // Listen for changes to the theme in localStorage
      window.addEventListener("storage", (event) => {
        if (event.key === "isLightTheme") {
          const isLightTheme = JSON.parse(event.newValue);
          const theme = isLightTheme ? "light" : "dark";
          document.documentElement.setAttribute("data-theme", theme);
        }
      });
    </script>
    <script src="../scripts/takehome.js" defer></script>
  </head>
  
  <body class="min-h-screen flex flex-col transition-colors duration-300">
    <!-- Main Content -->
    <main class="max-w-auto mx-2 mt-2 p-6 rounded-2xl shadow-lg transition-colors duration-300">

      <label for="salary" class="block mb-2 font-medium">Annual Salary (Â£)</label>
      <input id="salary" type="number" class="border rounded w-full p-2 mb-4" placeholder="e.g. 40000">

      <label for="pension" class="block mb-2 font-medium">Pension Contribution (%)</label>
      <input id="pension" type="number" class="border rounded w-full p-2 mb-4" placeholder="e.g. 5">

      <label for="studentLoan" class="block mb-2 font-medium">Student Loan Plan</label>
      <select id="studentLoan" class="border rounded w-full p-2 mb-4">
        <option value="none">None</option>
        <option value="plan1">Plan 1 (Started Before 2012)</option>
        <option value="plan2">Plan 2 (Started 2012 - 2023)</option>
        <option value="plan4">Plan 4 (Scottish Loans)</option>
        <option value="plan5">Plan 5 (Started After 2023)</option>
        <option value="postgrad">Postgraduate (Master's/PhD)</option>
      </select>

      <button id="calcBtn" class="tab-active w-full">
        Calculate
      </button>
      
      <div id="result" class="mt-6 text-lg font-semibold"></div>

      <div id="chart-container" class="mt-8 hidden">
        <canvas id="breakdownChart" height="200"></canvas>
      </div>
    </main>
  </body>
</html>